<!DOCTYPE html>
<html lang="fr">
    <head>
        <title>jmjjg/game-puzzle</title>
        <meta charset="utf-8">

        <link rel="stylesheet" href="out/game-puzzle-dependencies.min.css">
        <link rel="stylesheet" href="src/css/game-puzzle.css">
    </head>
    <body>
        <div id="screen">
            <!--
                        <nav class="navbar navbar-expand-lg navbar-light bg-light">
                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>

                            <div class="collapse navbar-collapse" id="navbar-content">
                                <ul class="navbar-nav mr-auto">
                                    <li class="nav-item dropdown">
                                        <a class="nav-link dropdown-toggle" href="#" id="navbar-menu" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Joueur 1
                                        </a>
                                        <div class="dropdown-menu" aria-labelledby="navbar-menu">
                                            <a class="dropdown-item" href="#">Modifier le nom</a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="#">Paramètres</a>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </nav>
            -->

            <div id="toolbar">
                <button type="button" title="Paramètres" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg">
                    <i class="fa fa-cogs"></i><span class="sr-only">&nbsp;Paramètres</span>
                </button>
            </div>

            <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="h3 modal-title">Paramètres</h1>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="settings" onsubmit="game_puzzle.apply(); return false;">
                                <ul class="nav nav-tabs" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="general-tab-label" data-toggle="tab" href="#general-tab" role="tab" aria-controls="home" aria-selected="true">Général</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="tiles-tab-label" data-toggle="tab" href="#tiles-tab" role="tab" aria-controls="profile" aria-selected="false">Pièces</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="movements-tab-label" data-toggle="tab" href="#movements-tab" role="tab" aria-controls="profile" aria-selected="false">Déplacements</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="opacity-tab-label" data-toggle="tab" href="#opacity-tab" role="tab" aria-controls="profile" aria-selected="false">Opacité</a>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div class="tab-pane fade show active" id="general-tab" role="tabpanel" aria-labelledby="general-tab-label">
                                        <div class="mt-3 form-group row">
                                            <label for="player" class="control-label col-sm-6">Joueur</label>
                                            <div class="col-sm-6">
                                                <input type="text" id="player" class="form-control">
                                            </div>
                                        </div>
                                        <div class="mb-3 form-group row">
                                            <label for="image" class="control-label col-sm-6">Image</label>
                                            <div class="col-sm-6">
                                                <select id="image" class="form-control">
                                                    <optgroup label="Big Buck Bunny">
                                                        <option value="src/img/Big Buck Bunny/bbb-splash.png" data-width="1920" data-height="1080">Affiche</option>
                                                        <option value="src/img/Big Buck Bunny/evil-frank.png" data-width="1920" data-height="1080">Méchant Frank</option>
                                                        <option value="src/img/Big Buck Bunny/rodents.png" data-width="1920" data-height="1080">Rongeurs</option>
                                                    </optgroup>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="tiles-tab" role="tabpanel" aria-labelledby="tiles-tab-label">
                                        <div class="mt-3 form-group row">
                                            <label for="columns" class="control-label col-sm-6">Horizontalement: <span class="range-value">0</span></label>
                                            <div class="col-sm-6">
                                                <input type="range" id="columns" min="1" max="5" class="form-control-range">
                                            </div>
                                        </div>
                                        <div class="mb-3 form-group row">
                                            <label for="rows" class="control-label col-sm-6">Verticalement: <span class="range-value">0</span></label>
                                            <div class="col-sm-6">
                                                <input type="range" id="rows" min="1" max="5" class="form-control-range">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="movements-tab" role="tabpanel" aria-labelledby="movements-tab-label">
                                        <div class="mt-3 form-group row">
                                            <label for="tolerance" class="control-label col-sm-6">Tolérance: <span class="range-value">0</span></label>
                                            <div class="col-sm-6">
                                                <input type="range" id="tolerance" min="0" max="150" class="form-control-range">
                                            </div>
                                        </div>
                                        <div class="mb-3 form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="clickToDrag">
                                            <label class="form-check-label" for="clickToDrag">Cliquer pour déplacer</label>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="opacity-tab" role="tabpanel" aria-labelledby="opacity-tab-label">
                                        <div class="mt-3 form-group row">
                                            <label for="backgroundOpacity" class="control-label col-sm-6">Cible: <span class="range-value">0</span></label>
                                            <div class="col-sm-6">
                                                <input type="range" id="backgroundOpacity" min="0" max="1" step="0.01" class="form-control-range">
                                            </div>
                                        </div>
                                        <div class="mb-3 form-group row">
                                            <label for="tileOpacity" class="control-label col-sm-6">Pièces: <span class="range-value">0</span></label>
                                            <div class="col-sm-6">
                                                <input type="range" id="tileOpacity" min="0" max="1" step="0.01" class="form-control-range">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="buttons">
                                    <button type="submit" class="btn btn-success">
                                        <i class="fa fa-check"></i>&nbsp;Appliquer
                                    </button>
                                    <button type="button" class="btn btn-warning" title="Remettre les réglages par défaut" onclick="game_puzzle.reset(); return false;">
                                        <i class="fa fa-sync-alt"></i>&nbsp;Défauts
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div id="game"></div>
        </div>

        <script src="out/game-puzzle-dependencies.min.js"></script>
        <script src="src/js/game-puzzle.js"></script>
        <script>
            $(function () {
                game_puzzle.init();

                $('input[type=range]').each(function(index, input) {
                    $(input).on('change', function(event) {
                        $(event.target)
                            .closest('.form-group')
                            .find('.range-value')
                            .html(event.target.value);
                    });
                    $(input).change();
                });
            });
        </script>
    </body>
</html>
